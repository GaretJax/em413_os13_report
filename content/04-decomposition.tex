\lchapter[decomposition]{Functional Decomposition}

% 4. (25%) Choose one of the concepts generated in Q3.
% Develop two different decompositions of function down to Level 2 (7+/-2 at L1 and ~25-50 at L2).
% Hint: review the "two down, one up" decomposition approach from SA4 in EM.411).
% Which decomposition do you prefer, and why? [1 page]

% Rubric
% Q4: Completeness
% Excellent (5 to >4.0 pts): Completed 2 decompositions
% Very Good (4 to >2.0 pts): Completed only decompositions or there is a mix of function and form listed
% Good (2 to >0 pts): too few decompositions, not based on function
%
% Q4: Approach to Decomposition
% Excellent (10 to >8.0 pts): Decompositions are meaningfully different and maintain solution neutrality over several concepts
% Very Good (8 to >4.0 pts): Decompositions are mostly different but may lack solution-neutrality
% Good (4 to >0 pts): See comments from grader
%
% Q4: Justification
% Excellent (5 to >4.0 pts): Strong statement of preferred decomposition with rationale
% Very Good (4 to >2.0 pts): Provided statement of preferred decomposition
% Good (2 to >0 pts): No clear statement about preferred decomposition.
%
% Q4: Guiding Principles & Level 1 Modularization
% Excellent (5 to >4.0 pts): Explicit guiding principle to generate L1 modularization based on L2
% Very Good (4 to >2.0 pts): Guiding principle is present but weakly connected to Level 1 modularization
% Good (2 to >0 pts): No guiding principle or justification for L1 modularization

% Failure modes
% * Decompositions aren't meaningfully different from each other (they are too locked in on one view)
% * Decompositions use overly generic wording without being "solution neutral."
% * Incorrect classification of "function."
% * No clear statement of what decomposition the team prefers
% * No or insufficient explanation of the team chose the decomposition they chose
% * No explanation of how the Level 2 of the decomposition informed  the Level 1 (2 down, 1 Up)

%\subsubsection{Selecting a Concept}
%Concept \textbf{C-06} was selected to explore decomposition because it represents the most architecturally integrated and complex configuration within the explored tradespace. As an extreme case, it is perceived as exhibiting the highest degree of functional coupling, distributed decision-making, and continuous interaction among processing, networking, and resource management. Analyzing this concept was therefore expected to reveal the greatest insight into architectural boundaries, decomposition strategies, and system responsibility partitioning.

%\subsubsection{Initial Level I Decomposition Approach}

%The initial functional decomposition was derived directly from the project Concept of Operations (CONOP), organizing system behavior according to mission execution flow. This view emphasizes how sensing data progresses through the system from tasking through delivery, reflecting the operational sequence defined in the CONOP.

%\paragraph{Initial Level I Functional Structure:}
%\vspace{-2mm}
%\noindent
%\textit{Mission Planning \& Tasking $\rightarrow$
%Health \& Status Monitoring $\rightarrow$
%Data Acquisition $\rightarrow$
%Onboard Processing $\rightarrow$
%Satellite Networking \& Routing $\rightarrow$
%Downlinking}\\

%The above decomposition mirrors the operational phases identified in the CONOP and preserves traceability between functional activities and mission execution timelines. 
%Functions are grouped according to temporal handoffs \textit{(e.g., what comes next?)}, making this view particularly effective for understanding end-to-end performance flow. As a result, the CONOP-based decomposition provides strong insight into system behavior and execution sequencing, though architectural ownership boundaries remain less explicit and sometimes even awkward.
%\todo{Need to add refs.}

%Level II decompositions were then derived from Level I. A full  NEED REF Initial Level I DSM is provided in the Appendix NEED REF. Because the Level I decomposition was derived directly from the CONOP, the operational perspective influenced not only how Level II functions were grouped, but also how they were defined and named. Functions were framed in terms of mission activities and execution phases, which implicitly emphasized sequential behavior over persistent system responsibilities. This naming convention likely introduced bias, shaped how functional relationships were interpreted, and, in turn, how dependencies were represented within the DSM.

%\subsubsection{Reevaluation Approach}
%\todo{Add Red to "DSM Editior"}
%Because of the size and density of the DSM, manual inspection alone made it difficult to clearly identify coupling patterns and functional groupings, particularly by users biased Initial Level I grouping. The team therefore leveraged this exercise as an opportunity to explore DSM analysis tooling to support clustering and visualization. Automated clustering enabled clearer observation of tightly coupled functional groupings, supporting comparison between the CONOP-based decomposition and alternative architectural partitionings. %The tool was used as an analytical aid to reveal structural relationships rather than to prescribe architectural decisions.

%\subsubsection{Revised Level I Decomposition}
%The revised Level-1 decomposition provides a different interpretation of the DSM by reorganizing functions according to persistent system responsibilities rather than operational sequence. When viewed through this structure, previously dispersed Level-2 functions form clearer clusters, revealing strong coupling between data management, onboard processing, and communications functions that was less apparent under the CONOP-based decomposition. This indicates that many dependencies observed in the DSM arise from shared resources and continuous coordination rather than sequential mission handoffs. As a result, the revised decomposition better aligns with the coupling structure identified through DSM clustering, exposing architectural boundaries that remain stable across operational scenarios. While the CONOP-based view is effective for understanding mission execution and latency flow, the revised responsibility-based decomposition is preferred because it more accurately reflects subsystem ownership, interface definition, and the underlying architectural organization of the system.

\subsubsection{Selecting a Concept}

Concept C-06 was selected to explore decomposition because it was on the Pareto front and represents the most architecturally integrated and complex configuration within the explored tradespace. As an architectural extreme, it exhibits high functional coupling, distributed decision-making, and continuous interaction among processing, networking, and resource management. Analyzing this concept was therefore expected to provide strong insight into architectural boundaries, decomposition strategies, and responsibility partitioning.

\subsubsection{Initial Level I Decomposition Approach}

The initial functional decomposition was derived directly from the project Concept of Operations (CONOP), organizing system behavior according to mission execution flow. This view emphasizes how sensing data progresses through the system from tasking through delivery, reflecting the operational sequence defined in the CONOP:

\vspace{1mm}
\setlength{\fboxsep}{2mm}
\noindent\fbox{\parbox{\dimexpr\linewidth-2\fboxsep-2\fboxrule}{
  \centering
  \textit{
    Mission Planning \& Tasking $\rightarrow$
    Health \& Status Monitoring $\rightarrow$
    Data Acquisition $\rightarrow$
    Onboard Processing $\rightarrow$
    Satellite Networking \& Routing $\rightarrow$
    Downlinking
  }
}}
\vspace{-0.1mm}

\noindent Functions are grouped according to temporal handoffs \textit{(e.g., what comes next?)}, making this view effective for understanding end-to-end performance flow. The CONOP-based decomposition therefore provides strong insight into system behavior and execution sequencing, though architectural ownership boundaries remain less explicit.

Because Level I followed the CONOP, the operational perspective influenced not only the grouping but also the definition and naming of Level II functions.
Functions framed around mission phases emphasized sequential behavior over persistent system responsibilities, shaping interpretation of relationships and how dependencies were represented within the DSM.
This was evident in the team's difficulty clustering the initial DSM, which yielded diffused, waterfalled ``clusters''.

\subsubsection{Reevaluation Approach}
Because of the size and density of the DSM, manual inspection alone made it difficult to identify clustering patterns, particularly when influenced by the Initial Level I perspective. The team therefore leveraged DSM analysis tooling to support clustering and visualization \cite{dsm_editor_2024}.
Automated clustering enabled clearer observation of tightly coupled functional groupings and supported comparison between the CONOP-based decomposition and alternative architectural partitionings.

\subsubsection{Revised Level I Decomposition}
Reclustering of the DSM revealed clearer functional groupings than those observed under the CONOP-based decomposition, with strong coupling emerging among data processing, coordination logic, and communication-like functions. Many dependencies previously interpreted as sequential mission handoffs were instead identified as interface-driven interactions with both internal and external platform systems. These observations expose architectural boundaries that remain stable across operational scenarios and more accurately reflect how responsibilities are sustained within the system.

\begin{figure}[h!]
  \subcaptionbox{Initial DSM}{%
    \includegraphics[trim={4.2cm 2.3cm 4.2cm 1.9cm},width=0.45\linewidth,clip]{figures/dsm-simplified-initial}
  }
  \hfill
  \subcaptionbox{Revised DSM}{%
    \includegraphics[trim={1.8cm 4.1cm 6.7cm 1.9cm},width=0.50\linewidth,clip]{figures/dsm-simplified-revised}
  }
  \caption{Two versions of the L2 functional decomposition and the L1 clustering.}
  \label{fig:dsm-revised}
\end{figure}
\vspace{-2mm}

\noindent Based on these insights, the Level I decomposition was redefined around persistent system responsibilities rather than operational sequence. The team converged on three primary groupings: External Hardware Management Interface, Data Processing, and Mission Coordination. In this view, the camera unit and spacecraft management functions (e.g., power and position control) are treated as external systems interfaced with by the payload rather than intrinsic components of it. This responsibility-based decomposition is preferred because it clarifies subsystem ownership and interface definition, and better represents the true architectural scope of the payload system.

%im stuck on the true architectural scope of the payload system

%Evolution from CONOPs to Capability
%Our initial trial decomposition was built around a CONOPs (Concept of Operations) view, mapping system functions chronologically according to mission execution flow. While this provided a clear operational narrative, it proved insufficient for capturing the unique complexities of C-06. The CONOPs view treated "Onboard Processing" and "Networking" as isolated, sequential steps, which obscured the reality that in a compute-mesh, these functions operate as a continuous, integrated feedback loop.
%^this corresponds or complements what you are saying in initial level 1 functional structure^

%Analysis of Clustered Functional DSM
%Using the functional interactions identified in our DSM, we refined our Level 1 modularization:
%1. Identification of the Intelligence Cluster (G16): The clustering analysis revealed a dense interaction "box" involving Execute Algorithm, Generate IDs & Metadata, and Forward Metadata. This confirms that in a Compute Mesh, data abstraction is a localized feedback loop rather than a linear step. Consequently, we increased the scope of the Onboard Intelligence module to include "Forwarding" logic, ensuring the algorithm directly informs the router of data priority.
%2. Connectivity vs. Resource Tension: Our DSM shows significant "off-diagonal" marks where Receiving Task and Plan Mission (G21) inform Managing Power and Managing Relative Position (G14). This illustrates that for a persistent constellation, mission tasking is physically constrained by the satellite's energy state and orbital geometry.
%3. Strategic Improvement in System Scope: We identified that Verifying Data Integrity and Establishing Inter-Satellite Links (G21) are so tightly coupled with the Onboard Processing cluster that they must share a high-speed data bus architecture. This structural alignment is essential to achieving our single-digit-minute latency goal.

%Preferred Decomposition: Systems Capability View
%Our team prefers the Capability-Based Decomposition, as reflected in our clustered Functional DSM. To better enable our "emergence lens," we transitioned to this Systems Capability View to cluster functions by technical domain, such as the Intelligence Cluster (G16) and Connectivity Cluster (G21), rather than by time.

%By applying a "2-down, 1-up" approach, we identified that for C-06 to succeed, the Intelligence module must have the functional scope to inform Routing decisions in real-time. This insight allows us to satisfy our SPS by "re-balancing the distributed mesh around mission-relevant timeliness" rather than just simple throughput.



